<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="gallery.css" />
    <script
      src="https://kit.fontawesome.com/40504fd08f.js"
      crossorigin="anonymous"
    ></script>
    <title>CCH - José Hernández</title>
  </head>
  <body>
    <!--header-->
    <header>
      <nav>
        <ul>
          <li><a href="index.html">About Me</a></li>
          <li><a href="index.html#project">Projects</a></li>
          <li><a href="https://github.com/JoseDHernandez">GitHub</a></li>
          <li><a href="index.html#Contact">Connect with Me</a></li>
        </ul>
      </nav>
    </header>
    <main class="container">
      <h1>Web Game Prototype of Cards Against Humanity</h1>
      <section>
        <p>
          This project is a personal prototype of the original game
          <a href="https://www.cardsagainsthumanity.com/" target="_blank"
            >Cards Against Humanity</a
          >
          (<abbr title="Cards Against Humanity">CCH</abbr>). All intellectual
          property rights, including design, branding, and game name, belong to
          them. You can view the
          <a
            href="https://www.cardsagainsthumanity.com/terms-of-use"
            target="_blank"
            >original terms of use</a
          >
          and the license
          <a
            href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
            target="_blank"
            >CC BY-NC-SA</a
          >
        </p>
        <p>
          This project was developed to learn about WebSockets, web components,
          REST APIs, and authentication using JSON Web Tokens. If you want the
          text of game cards, you can get the texts contained in the SQL archive
          <code>cartas_contra_humanidad</code>, specifically in the tables
          <code>cartas_blancas</code> for white cards and cartas_negras for
          black cards, under the same license as this project/repository. This
          also applies to the UI design and code.
        </p>
      </section>
      <section>
        <h2>Features</h2>
        <ul>
          <li>
            <strong>User Account System:</strong> Users can register, log in,
            and manage their accounts.
          </li>
          <li>
            <strong>Real-Time Gameplay:</strong> The game is
            <mark>played in real-time</mark> using a REST API and WebSockets,
            ensuring a smooth and uninterrupted gaming experience.
          </li>
          <li>
            <strong>Custom Game Interface:</strong> Two distinct interfaces for
            the zar and regular players, tailored to their specific roles in the
            game.
          </li>
          <li>
            <strong>Game Creation and Lobby:</strong> Users can create new games
            and join existing lobbies, facilitating the organization and start
            of games.
          </li>
          <li>
            <strong>Points System:</strong> Implementation of a points system
            that tracks player scores and determines the winner of the game.
          </li>
        </ul>
      </section>
      <section>
        <h2>Technologies Used</h2>
        <table>
          <thead>
            <tr>
              <th>Technology</th>
              <th>Purpose</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>React</td>
              <td>Create the user interface.</td>
            </tr>
            <tr>
              <td>Node.js</td>
              <td>
                Backend server to manage requests and game logic
                <sup><small>(server-side)</small></sup
                >.
              </td>
            </tr>
            <tr>
              <td>Socket.io</td>
              <td>
                Real-time communication between server and players
                <sup><small>(server and client side)</small></sup
                >.
              </td>
            </tr>
            <tr>
              <td>Express</td>
              <td>
                Framework to handle
                <abbr title="Application Programming Interface">API</abbr>
                routes and backend functionality.
              </td>
            </tr>
            <tr>
              <td>JSON Web Token (JWT)</td>
              <td>Secure user authentication system.</td>
            </tr>
            <tr>
              <td>Tailwind CSS</td>
              <td>Style the interface with utility classes.</td>
            </tr>
            <tr>
              <td>MySQL</td>
              <td>Store and manage game data (users, cards, etc.).</td>
            </tr>
          </tbody>
        </table>
      </section>
      <!--Galeria-->
      <section>
        <h2>Screenshots</h2>

        You can view the images in a
        <button onclick="OpenModal()">gallery</button>
        or deploying the accordio below.
        <details>
          <summary>View all screenshots</summary>

          <article class="gallery">
            <h3>Home page</h3>
            <figure>
              <img
                onclick="OpenModal(0)"
                src="img/cch-img/1.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h3>Login</h3>
            <figure>
              <img
                onclick="OpenModal(1)"
                src="img/cch-img/2.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h3>Register</h3>
            <figure>
              <img
                onclick="OpenModal(2)"
                src="img/cch-img/3.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h3>Change room information according to players within them</h3>
            <h4>Room with owner inside</h4>
            <figure>
              <img
                onclick="OpenModal(3)"
                src="img/cch-img/4.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h4>Room whit other player inside</h4>
            <figure>
              <img
                onclick="OpenModal(4)"
                src="img/cch-img/5.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h4>Room full</h4>
            <figure>
              <img
                onclick="OpenModal(5)"
                src="img/cch-img/6.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h4>Join to a room</h4>
            <figure>
              <img
                onclick="OpenModal(6)"
                src="img/cch-img/7.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h3>Rooms views</h3>
            <h4>Player view</h4>
            <figure>
              <img
                onclick="OpenModal(7)"
                src="img/cch-img/8.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h4>Owner view</h4>
            <figure>
              <img
                onclick="OpenModal(8)"
                src="img/cch-img/9.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
              <figcaption>
                The share button can copy the URL with the room code in the GET
                parameters to the <b>clipboard</b>.<br />
                Example:
                <code>https://www.cch.com/party?CodeParty=MTkyGN854Yt</code>
                <br />
                <small
                  >This was an idea, given that it has not been
                  implemented.</small
                >
              </figcaption>
            </figure>
            <h3>Games views</h3>
            <h4>Player gameboard</h4>
            <figure>
              <img
                onclick="OpenModal(9)"
                src="img/cch-img/10.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h4>Zar gameboard</h4>
            <figure>
              <img
                onclick="OpenModal(10)"
                src="img/cch-img/11.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h4>Round finished</h4>
            <figure>
              <img
                onclick="OpenModal(11)"
                src="img/cch-img/12.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
            <h3>Account information</h3>
            <figure>
              <img
                onclick="OpenModal(12)"
                src="img/cch-img/13.png"
                alt=""
                loading="lazy"
                decoding="async"
              />
            </figure>
          </article>
        </details>
      </section>
      <section>
        <h2>Installation</h2>
        <ol>
          <li>
            Clone the repository:
            <code>git clone https://github.com/JoseDHernandez/CHH</code>
          </li>
          <li>
            Import <code>cartas_contra_humanidad.sql</code> to you SQL database.
          </li>
          <li>
            Modify the variables in <code>config.js</code> in the server folder
            or client folder. <mark>client/scr/api/config.js</mark> <br />
            <div class="p-left">
              <b>Server configuration</b> In <code>config.js</code> file: <br />
              <table>
                <thead>
                  <tr>
                    <th>Variable</th>
                    <th>Purpose</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><code>PORT</code></td>
                    <td>Port on which the server listens</td>
                  </tr>
                  <tr>
                    <td><code>secret</code></td>
                    <td>
                      Secret key for encrypting the
                      <abbr title="JSON Web Tokens">JWT</abbr>
                    </td>
                  </tr>
                  <tr>
                    <td><code>urlClient</code></td>
                    <td>URL of the client, used for CORS permissions</td>
                  </tr>
                  <tr>
                    <td><code>DB_HOST</code></td>
                    <td>Database host</td>
                  </tr>
                  <tr>
                    <td><code>DB_USER</code></td>
                    <td>Database username</td>
                  </tr>
                  <tr>
                    <td><code>DB_PASSWORD</code></td>
                    <td>Password to access the database</td>
                  </tr>
                  <tr>
                    <td><code>DB_NAME</code></td>
                    <td>Database name</td>
                  </tr>
                  <tr>
                    <td><code>DB_PORT</code></td>
                    <td>Port of the database</td>
                  </tr>
                </tbody>
              </table>
              <br />In <code>index.js</code> file: <br />
              <div class="p-left">
                Cors for socket.io: <br />

                <pre>
const io = new SocketServer(server, { 
  cors: {
    origin: urlClient,
    methods: ["GET", "POST", "PUT", "DELETE"],
  },
});</pre
                >
                <br />
                Cors for Express: <br />
                <pre>
app.use(
  cors({
    origin: urlClient,
    methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"],
  })
);</pre
                >
                <br />Morgan format: <br />
                <code>app.use(morgan("dev"));</code>
                <br />
                <br />
                <b>Client configuration</b> In <code>config.js</code> file,
                content in the path <mark>client/scr/api</mark> <br />
                <div class="p-left">
                  *<small
                    ><code>URL</code> is the variable of url the server API, is
                    similar to server (<code>index.js</code>) console
                    information:</small
                  >
                </div>
                <br />
                <code
                  >console.log("Server running: " + DB_HOST + ":" + PORT);</code
                >
              </div>
            </div>
          </li>
          <li>
            You can use the demo accounts: <br />
            <br />
            <i>Username:</i> UserTest <br />
            <ul>
              <li>Email: test@gmail.com</li>
              <li>Password: 12345678</li>
            </ul>
            <hr />

            <i>Username:</i> Test <br />
            <ul>
              <li>Email: test@test.com</li>
              <li>Password: 12345678</li>
            </ul>
            <hr />

            <i>Username:</i> Username <br />
            <ul>
              <li>Email: test@hotmail.com</li>
              <li>Password: 12345678</li>
            </ul>
            <hr />
          </li>
          <li>
            For the profile photo use a url of imgur o other picture link, you
            edit this in account settings (client IU) or the database: table
            <code>user</code> and column <code>Photo</code>.
          </li>
          <li>
            Not forget execute the command <code>npm run dev</code> or
            <code>npm run build</code> in the paths of client folder and server
            folder for use this project in a developer or build mode.
          </li>
        </ol>
      </section>
      <section>
        <h2>API Routes</h2>
        <h3>Cards Routes</h3>
        <div class="p-left">
          <article>
            <h4>Black Cards</h4>
            <ul>
              <li><code>GET /cardsBlack</code> - Get all black cards.</li>
              <li>
                <code>POST /cardsBlack</code> - Create a new black card
                (requires token and admin role).
              </li>
              <li>
                <code>PUT /cardsBlack/:id</code> - Update a black card (requires
                token and moderator role).
              </li>
              <li>
                <code>GET /cardsBlack/:id</code> - Get a specific black card by
                ID.
              </li>
              <li>
                <code>DELETE /cardsBlack/:id</code> - Delete a black card
                (requires token).
              </li>
            </ul>
          </article>

          <article>
            <h4>White Cards</h4>
            <ul>
              <li><code>GET /cardsWhite</code> - Get all white cards.</li>
              <li>
                <code>POST /cardsWhite</code> - Create a new white card
                (requires token and admin role).
              </li>
              <li>
                <code>PUT /cardsWhite/:id</code> - Update a white card (requires
                token and admin role).
              </li>
              <li>
                <code>GET /cardsWhite/:id</code> - Get a specific white card by
                ID.
              </li>
              <li>
                <code>DELETE /cardsWhite/:id</code> - Delete a white card
                (requires token and admin role).
              </li>
            </ul>
          </article>
        </div>
      </section>
      <section>
        <h2>Game Routes</h2>
        <h3>Tokens</h3>

        <article>
          <h4>Account token (is a header):</h4>
          <p>
            <code>[:token]</code> Token is a token by JWT with user information.
          </p>
        </article>

        <article>
          <h4>Sockets and the parameters</h4>
          <div class="p-left">
            <ul>
              <li>
                <code>[:code]</code> codeParty is the code of a game room.
              </li>
              <li>
                <code>[:tokenParty]</code> tokenParty is the token of
                information of game room.
              </li>
            </ul>
            <div class="p-left">
              <p>
                NOTE: View the code in <code>sockets.js</code> in server folder
                (server/routes) for uses and the local items stored in the local
                storage of the client
                (<code>client/src/context/User.context.jsx</code>) and
                <code>.jsx</code> files for the behavior of the calls to
                sockets, such as:
              </p>
              <ul>
                <li>
                  <code>sockets.js</code> in the path <code>server/routes</code>
                </li>
                <li>
                  <code>Partida.jsx</code> and <code>Salas.jsx</code> in the
                  path
                  <code>client/src/pages</code>
                </li>
                <li>
                  <code>Game.jsx</code>, <code>Zar.jsx</code>,
                  <code>Player.jsx</code>, and <code>chat.jsx</code> in the path
                  <code>client/src/components</code>
                </li>
              </ul>
            </div>
          </div>
        </article>

        <article>
          <h4>Lobby and Party Management</h4>
          <ul class="p-left">
            <li><code>GET /Game</code> - Verify token.</li>
            <li>
              <code>GET /lobby/:code</code> - Join a party (requires token).
            </li>
            <li>
              <code>GET /party/:code</code> - Enter party lobby (requires
              token).
            </li>
            <li>
              <code>POST /party</code> - Verify party password (requires token).
            </li>
            <li>
              <code>PUT /party</code> - Update party details (requires token).
            </li>
          </ul>
        </article>

        <article>
          <h4>Game Management</h4>
          <ul class="p-left">
            <li><code>POST /game</code> - Start the game (requires token).</li>
            <li>
              <code>GET /game</code> - Get the number of cards (requires token).
            </li>
            <li>
              <code>GET /cards/:token</code> - Get player’s deck (requires
              token).
            </li>
            <li>
              <code>GET /cardsOther/:token</code> - Get new reserve cards
              (requires token).
            </li>
            <li>
              <code>POST /cards</code> - Save player’s deck (requires token).
            </li>
            <li>
              <code>GET /cartas/:token</code> - Get selected cards by players
              (requires token).
            </li>
            <li>
              <code>PUT /game</code> - Update points and round (requires token).
            </li>
            <li>
              <code>GET /points/:token</code> - Get points (requires token).
            </li>
            <li>
              <code>PUT /cards</code> - Save selected cards on the server
              (requires token).
            </li>
            <li>
              <code>DELETE /party</code> - Delete a party (requires token).
            </li>
          </ul>
        </article>

        <article>
          <h4>Authentication Routes</h4>
          <ul class="p-left">
            <li><code>POST /signup</code> - Sign up a new user.</li>
            <li><code>POST /signin</code> - Sign in an existing user.</li>
            <li><code>GET /info</code> - Get general information.</li>
          </ul>
        </article>

        <article>
          <h4>User Routes</h4>
          <p>
            <i>Note:</i> <code>:id</code> is the ID of an account from the
            database.
          </p>
          <ul>
            <li>
              <code>GET /user/:id</code> - Get user achievements (requires
              token).
            </li>
            <li>
              <code>PUT /user</code> - Update user information (requires token).
            </li>
          </ul>
        </article>
      </section>
      <section>
        <h2>Author</h2>
        <p>
          The view original game
          <a href="https://www.cardsagainsthumanity.com/" target="_blank"
            >Cards Against Humanity</a
          >
          <br />
          This project is developed by .
          <a href="https://github.com/JoseDHernandez" target="_blank"
            >José Hernández</a
          >
          .
        </p>
        <h3>License</h3>
        <p
          xmlns:cc="http://creativecommons.org/ns#"
          xmlns:dct="http://purl.org/dc/terms/"
        >
          <a
            property="dct:title"
            rel="cc:attributionURL"
            href="https://github.com/JoseDHernandez/CCH"
            >CHH</a
          >
          by
          <a
            rel="cc:attributionURL dct:creator"
            property="cc:attributionName"
            href="https://github.com/JoseDHernandez"
            >José David Hernández Hortúa</a
          >
          is licensed under
          <a
            href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1"
            target="_blank"
            rel="license noopener noreferrer"
            style="display: inline-block"
            >CC BY-NC-SA 4.0<img
              style="
                height: 22px !important;
                margin-left: 3px;
                vertical-align: text-bottom;
              "
              src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"
              alt="" /><img
              style="
                height: 22px !important;
                margin-left: 3px;
                vertical-align: text-bottom;
              "
              src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"
              alt="" /><img
              style="
                height: 22px !important;
                margin-left: 3px;
                vertical-align: text-bottom;
              "
              src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"
              alt="" /><img
              style="
                height: 22px !important;
                margin-left: 3px;
                vertical-align: text-bottom;
              "
              src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"
              alt=""
          /></a>
        </p>
      </section>
    </main>

    <!--Galeria-->
    <dialog
      class="Modal"
      id="ModalClose"
      role="dialog"
      aria-labelledby="modalTitle"
      aria-describedby="modalDescription"
    >
      <div class="ContentModal">
        <div class="headModal">
          <h3 class="Title" id="modalTitle">Galería</h3>
          <button
            class="CloseModal"
            aria-label="Cerrar la galería"
            onclick="OpenModal()"
            tabindex="2"
          >
            <div></div>
          </button>
        </div>
        <div class="bodyModal" id="modalDescription">
          <div id="Gallery" role="region" aria-live="polite">
            <div class="Gallery-button">
              <button id="Pre" aria-label="Imagen anterior" tabindex="0">
                <div class="buttonArrow"></div>
              </button>
            </div>
            <div class="View">
              <figure>
                <img
                  id="ActualImg"
                  src="img/cch-img/1.png"
                  alt="1 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/2.png"
                  alt="2 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/3.png"
                  alt="3 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/4.png"
                  alt="4 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/5.png"
                  alt="5 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/6.png"
                  alt="6 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/7.png"
                  alt="7 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/8.png"
                  alt="8 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/9.png"
                  alt="9 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/10.png"
                  alt="10 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/11.png"
                  alt="11 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/12.png"
                  alt="12 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <figure>
                <img
                  src="img/cch-img/13.png"
                  alt="13 de 13"
                  loading="lazy"
                  decoding="async"
                />
              </figure>
              <!-- Fin del bloque de imagenes -->
            </div>
            <div class="Gallery-button">
              <button id="Nex" aria-label="Imagen siguiente" tabindex="1">
                <div class="buttonArrow"></div>
              </button>
            </div>
          </div>
        </div>
      </div>
    </dialog>
    <!--Fin galeria-->
    <!--footer-->
    <footer id="#Contact">
      <div class="footer-container">
        <div class="footer-section">
          <h3>Connect with Me</h3>
          <div class="redes-sociales">
            <a href="https://linkedin.com/in/josedhernandezh"
              >LinkedIn <i class="fa-brands fa-linkedin-in"></i
            ></a>
            <a href="https://github.com/JoseDHernandez"
              >GitHub <i class="fa-brands fa-github-alt"></i
            ></a>
            <a href="mailto:josedhernandez@proton.me"
              >Email <i class="fa-solid fa-envelope-circle-check"></i
            ></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>José David Hernández Hortúa</p>
      </div>
    </footer>
  </body>
  <script src="gallery-script.js"></script>
</html>
